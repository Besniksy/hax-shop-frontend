{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\besni\\\\Desktop\\\\hax-frontend\\\\src\\\\pages\\\\shop\\\\product-basic\\\\[slug].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { LayoutTwo } from \"../../../components/Layout\";\nimport { getDiscountPrice } from \"../../../lib/product\";\nimport { BreadcrumbOne } from \"../../../components/Breadcrumb\";\nimport { ImageGalleryBottomThumb, ProductDescription, ProductDescriptionTab } from \"../../../components/ProductDetails\";\nimport { addToCart } from \"../../../redux/actions/cartActions\";\nimport { addToWishlist, deleteFromWishlist } from \"../../../redux/actions/wishlistActions\";\nimport { addToCompare, deleteFromCompare } from \"../../../redux/actions/compareActions\"; // import products from \"../../../data/products.json\";\n// import productss from '../products'\n\nimport axiosInstance from \"../../../helpers/axios\";\nimport { useRouter } from \"next/router\";\nimport { getProductsBySlug } from '../../../redux/actions'; // let productss\n\nlet prodss;\n\nconst ProductBasic = ({\n  product,\n  cartItems,\n  wishlistItems,\n  compareItems,\n  addToCart,\n  addToWishlist,\n  deleteFromWishlist,\n  addToCompare,\n  deleteFromCompare,\n  productsss\n}) => {\n  useEffect(() => {\n    document.querySelector(\"body\").classList.remove(\"overflow-hidden\");\n  });\n  const router = useRouter();\n  const {\n    path\n  } = router.query; // const [prods, setProds] = useState([]);\n\n  productsss = useSelector(state => state.product); // productss = productsss\n  // console.log(productss)\n  // useEffect(() => {\n  //   axiosInstance.get(`/products/${path}`)\n  //   .then((response) => {\n  //     setProds(response.data.products)\n  //   })\n  //   .catch(error => {\n  //     console.log(error)\n  //   })\n  // }, [path])\n\n  const dispatch = useDispatch();\n  const dispatchedUrl = dispatch(getProductsBySlug('watches'));\n  const {\n    addToast\n  } = useToasts();\n  const discountedPrice = getDiscountPrice(product.price, product.discount).toFixed(2);\n  const productPrice = product.price.toFixed(2);\n  const cartItem = cartItems.filter(cartItem => cartItem.id === product.id)[0];\n  const wishlistItem = wishlistItems.filter(wishlistItem => wishlistItem.id === product.id)[0];\n  const compareItem = compareItems.filter(compareItem => compareItem.id === product.id)[0];\n  return __jsx(LayoutTwo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, __jsx(BreadcrumbOne, {\n    pageTitle: product.name,\n    backgroundImage: \"/assets/images/backgrounds/breadcrumb-bg-1.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, __jsx(\"ul\", {\n    className: \"breadcrumb__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    as: process.env.PUBLIC_URL + \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Home\"))), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/shop/left-sidebar\",\n    as: process.env.PUBLIC_URL + \"/shop/left-sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, \"Shop\"))), __jsx(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, product.name))), __jsx(\"div\", {\n    className: \"product-details space-mt--r100 space-mb--r100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    lg: 6,\n    className: \"space-mb-mobile-only--50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, __jsx(ImageGalleryBottomThumb, {\n    product: product,\n    wishlistItem: wishlistItem,\n    addToast: addToast,\n    addToWishlist: addToWishlist,\n    deleteFromWishlist: deleteFromWishlist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  })), __jsx(Col, {\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, __jsx(ProductDescription, {\n    product: product,\n    productPrice: productPrice,\n    discountedPrice: discountedPrice,\n    cartItems: cartItems,\n    cartItem: cartItem,\n    wishlistItem: wishlistItem,\n    compareItem: compareItem,\n    addToast: addToast,\n    addToCart: addToCart,\n    addToWishlist: addToWishlist,\n    deleteFromWishlist: deleteFromWishlist,\n    addToCompare: addToCompare,\n    deleteFromCompare: deleteFromCompare,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, __jsx(ProductDescriptionTab, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.cartData,\n    wishlistItems: state.wishlistData,\n    compareItems: state.compareData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addToCart: (item, addToast, quantityCount, selectedProductColor, selectedProductSize) => {\n      dispatch(addToCart(item, addToast, quantityCount, selectedProductColor, selectedProductSize));\n    },\n    addToWishlist: (item, addToast) => {\n      dispatch(addToWishlist(item, addToast));\n    },\n    deleteFromWishlist: (item, addToast) => {\n      dispatch(deleteFromWishlist(item, addToast));\n    },\n    addToCompare: (item, addToast) => {\n      dispatch(addToCompare(item, addToast));\n    },\n    deleteFromCompare: (item, addToast) => {\n      dispatch(deleteFromCompare(item, addToast));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductBasic);\nexport async function getStaticPaths() {\n  // const router = useRouter()\n  const {\n    path\n  } = router.query;\n  let products;\n  axiosInstance.get(`/products/${path}`).then(response => {\n    products = response.data.products;\n  }).catch(error => {\n    console.log(error);\n  }); // get the paths we want to pre render based on products\n\n  const paths = products.map(product => ({\n    params: {\n      slug: product.slug\n    }\n  }));\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  let products;\n  axiosInstance.get(`/products/${path}`).then(response => {\n    products = response.data.products;\n  }).catch(error => {\n    console.log(error);\n  }); // get product data based on slug\n\n  const product = products.filter(single => single.slug === params.slug)[0];\n  return {\n    props: {\n      product\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/besni/Desktop/hax-frontend/src/pages/shop/product-basic/[slug].js"],"names":["useEffect","useState","Link","Container","Row","Col","connect","useDispatch","useSelector","useToasts","LayoutTwo","getDiscountPrice","BreadcrumbOne","ImageGalleryBottomThumb","ProductDescription","ProductDescriptionTab","addToCart","addToWishlist","deleteFromWishlist","addToCompare","deleteFromCompare","axiosInstance","useRouter","getProductsBySlug","prodss","ProductBasic","product","cartItems","wishlistItems","compareItems","productsss","document","querySelector","classList","remove","router","path","query","state","dispatch","dispatchedUrl","addToast","discountedPrice","price","discount","toFixed","productPrice","cartItem","filter","id","wishlistItem","compareItem","name","process","env","PUBLIC_URL","mapStateToProps","cartData","wishlistData","compareData","mapDispatchToProps","item","quantityCount","selectedProductColor","selectedProductSize","getStaticPaths","products","get","then","response","data","catch","error","console","log","paths","map","params","slug","fallback","getStaticProps","single","props"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport { LayoutTwo } from \"../../../components/Layout\";\r\nimport { getDiscountPrice } from \"../../../lib/product\";\r\nimport { BreadcrumbOne } from \"../../../components/Breadcrumb\";\r\nimport {\r\n  ImageGalleryBottomThumb,\r\n  ProductDescription,\r\n  ProductDescriptionTab\r\n} from \"../../../components/ProductDetails\";\r\nimport { addToCart } from \"../../../redux/actions/cartActions\";\r\nimport {\r\n  addToWishlist,\r\n  deleteFromWishlist\r\n} from \"../../../redux/actions/wishlistActions\";\r\nimport {\r\n  addToCompare,\r\n  deleteFromCompare\r\n} from \"../../../redux/actions/compareActions\";\r\n// import products from \"../../../data/products.json\";\r\n// import productss from '../products'\r\nimport axiosInstance from \"../../../helpers/axios\";\r\nimport { useRouter } from \"next/router\";\r\nimport { getProductsBySlug } from '../../../redux/actions'\r\n// let productss\r\nlet prodss\r\n\r\nconst ProductBasic = ({\r\n  product,\r\n  cartItems,\r\n  wishlistItems,\r\n  compareItems,\r\n  addToCart,\r\n  addToWishlist,\r\n  deleteFromWishlist,\r\n  addToCompare,\r\n  deleteFromCompare,\r\n  productsss\r\n}) => {\r\n\r\n\r\n  useEffect(() => {\r\n    document.querySelector(\"body\").classList.remove(\"overflow-hidden\");\r\n  });\r\n\r\n  const router = useRouter()\r\n  const {path} = router.query\r\n  // const [prods, setProds] = useState([]);\r\n\r\n  productsss = useSelector(state => state.product)\r\n\r\n  // productss = productsss\r\n\r\n  // console.log(productss)\r\n\r\n\r\n  // useEffect(() => {\r\n\r\n  //   axiosInstance.get(`/products/${path}`)\r\n  //   .then((response) => {\r\n  //     setProds(response.data.products)\r\n  //   })\r\n  //   .catch(error => {\r\n  //     console.log(error)\r\n  //   })\r\n\r\n  // }, [path])\r\n\r\n  const dispatch = useDispatch()\r\n  const dispatchedUrl = dispatch(getProductsBySlug('watches'))\r\n\r\n\r\n\r\n\r\n  const { addToast } = useToasts();\r\n  const discountedPrice = getDiscountPrice(\r\n    product.price,\r\n    product.discount\r\n  ).toFixed(2);\r\n\r\n  const productPrice = product.price.toFixed(2);\r\n  const cartItem = cartItems.filter(\r\n    (cartItem) => cartItem.id === product.id\r\n  )[0];\r\n  const wishlistItem = wishlistItems.filter(\r\n    (wishlistItem) => wishlistItem.id === product.id\r\n  )[0];\r\n  const compareItem = compareItems.filter(\r\n    (compareItem) => compareItem.id === product.id\r\n  )[0];\r\n\r\n  return (\r\n    <LayoutTwo>\r\n     \r\n      <BreadcrumbOne\r\n        pageTitle={product.name}\r\n        backgroundImage=\"/assets/images/backgrounds/breadcrumb-bg-1.png\"\r\n      >\r\n        <ul className=\"breadcrumb__list\">\r\n          <li>\r\n            <Link href=\"/\" as={process.env.PUBLIC_URL + \"/\"}>\r\n              <a>Home</a>\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              href=\"/shop/left-sidebar\"\r\n              as={process.env.PUBLIC_URL + \"/shop/left-sidebar\"}\r\n            >\r\n              <a>Shop</a>\r\n            </Link>\r\n          </li>\r\n          <li>{product.name}</li>\r\n        </ul>\r\n      </BreadcrumbOne>\r\n\r\n      \r\n      <div className=\"product-details space-mt--r100 space-mb--r100\">\r\n        <Container>\r\n          <Row>\r\n            <Col lg={6} className=\"space-mb-mobile-only--50\">\r\n              \r\n              <ImageGalleryBottomThumb\r\n                product={product}\r\n                wishlistItem={wishlistItem}\r\n                addToast={addToast}\r\n                addToWishlist={addToWishlist}\r\n                deleteFromWishlist={deleteFromWishlist}\r\n              />\r\n            </Col>\r\n\r\n            <Col lg={6}>\r\n             \r\n              <ProductDescription\r\n                product={product}\r\n                productPrice={productPrice}\r\n                discountedPrice={discountedPrice}\r\n                cartItems={cartItems}\r\n                cartItem={cartItem}\r\n                wishlistItem={wishlistItem}\r\n                compareItem={compareItem}\r\n                addToast={addToast}\r\n                addToCart={addToCart}\r\n                addToWishlist={addToWishlist}\r\n                deleteFromWishlist={deleteFromWishlist}\r\n                addToCompare={addToCompare}\r\n                deleteFromCompare={deleteFromCompare}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              \r\n              <ProductDescriptionTab product={product} />\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </LayoutTwo>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    wishlistItems: state.wishlistData,\r\n    compareItems: state.compareData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addToCart: (\r\n      item,\r\n      addToast,\r\n      quantityCount,\r\n      selectedProductColor,\r\n      selectedProductSize\r\n    ) => {\r\n      dispatch(\r\n        addToCart(\r\n          item,\r\n          addToast,\r\n          quantityCount,\r\n          selectedProductColor,\r\n          selectedProductSize\r\n        )\r\n      );\r\n    },\r\n    addToWishlist: (item, addToast) => {\r\n      dispatch(addToWishlist(item, addToast));\r\n    },\r\n    deleteFromWishlist: (item, addToast) => {\r\n      dispatch(deleteFromWishlist(item, addToast));\r\n    },\r\n    addToCompare: (item, addToast) => {\r\n      dispatch(addToCompare(item, addToast));\r\n    },\r\n    deleteFromCompare: (item, addToast) => {\r\n      dispatch(deleteFromCompare(item, addToast));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductBasic);\r\n\r\nexport async function getStaticPaths() {\r\n  // const router = useRouter()\r\n  const {path} = router.query\r\n  let products\r\n  axiosInstance.get(`/products/${path}`)\r\n.then((response) => {\r\n  products = response.data.products\r\n})\r\n.catch(error => {\r\n  console.log(error)\r\n})\r\n  // get the paths we want to pre render based on products\r\n\r\n  const paths =  products.map((product) => ({\r\n    params: { slug: product.slug }\r\n  }));\r\n\r\n  return { paths, fallback: false };\r\n}\r\n\r\nexport async function getStaticProps({ params}) {\r\n    let products\r\n      axiosInstance.get(`/products/${path}`)\r\n    .then((response) => {\r\n      products = response.data.products\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  \r\n  // get product data based on slug\r\n\r\n  const product = products.filter((single) => single.slug === params.slug)[0];\r\n\r\n  return { props: { product } };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}