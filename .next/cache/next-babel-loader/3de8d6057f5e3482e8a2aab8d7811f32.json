{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { addToCart as _addToCart, decreaseQuantity as _decreaseQuantity, deleteFromCart as _deleteFromCart, deleteAllFromCart as _deleteAllFromCart, cartItemStock } from \"../../redux/actions/cartActions\";\nimport { getDiscountPrice } from \"../../lib/product\";\nimport { LayoutTwo } from \"../../components/Layout\";\nimport { BreadcrumbOne } from \"../../components/Breadcrumb\";\nimport { IoIosClose, IoMdCart } from \"react-icons/io\";\nimport { generatePublicUrl } from \"../../urlConfig\";\n\nvar Cart = function Cart(_ref) {\n  _s();\n\n  var cartItems = _ref.cartItems,\n      decreaseQuantity = _ref.decreaseQuantity,\n      addToCart = _ref.addToCart,\n      deleteFromCart = _ref.deleteFromCart,\n      deleteAllFromCart = _ref.deleteAllFromCart;\n\n  var _useState = useState(1),\n      quantityCount = _useState[0];\n\n  var _useToasts = useToasts(),\n      addToast = _useToasts.addToast;\n\n  var cartTotalPrice = 0;\n  useEffect(function () {\n    document.querySelector(\"body\").classList.remove(\"overflow-hidden\");\n  });\n  return __jsx(LayoutTwo, null, __jsx(BreadcrumbOne, {\n    pageTitle: \"Cart\",\n    backgroundImage: \"/assets/images/backgrounds/breadcrumb-bg-2.jpg\"\n  }, __jsx(\"ul\", {\n    className: \"breadcrumb__list\"\n  }, __jsx(\"li\", null, __jsx(Link, {\n    href: \"/\",\n    as: process.env.PUBLIC_URL + \"/\"\n  }, __jsx(\"a\", null, \"Home\"))), __jsx(\"li\", null, \"Cart\"))), __jsx(\"div\", {\n    className: \"cart-content space-mt--r130 space-mb--r130\"\n  }, __jsx(Container, null, cartItems && cartItems.length >= 1 ? __jsx(Row, null, __jsx(Col, {\n    lg: 12\n  }, __jsx(\"table\", {\n    className: \"cart-table\"\n  }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", {\n    className: \"product-name\",\n    colSpan: \"2\"\n  }, \"Product\"), __jsx(\"th\", {\n    className: \"product-price\"\n  }, \"Price\"), __jsx(\"th\", {\n    className: \"product-quantity\"\n  }, \"Quantity\"), __jsx(\"th\", {\n    className: \"product-subtotal\"\n  }, \"Total\"), __jsx(\"th\", {\n    className: \"product-remove\"\n  }, \"\\xA0\"))), __jsx(\"tbody\", null, cartItems.map(function (product, i) {\n    var discountedPrice = getDiscountPrice(product.price, product.discount).toFixed(2);\n    cartTotalPrice += discountedPrice * product.quantity;\n    return __jsx(\"tr\", {\n      key: i\n    }, __jsx(\"td\", {\n      className: \"product-thumbnail\"\n    }, __jsx(Link, {\n      href: \"/shop/product-basic/[slug]?slug=\".concat(product.slug),\n      as: \"\".concat(process.env.PUBLIC_URL, \"/shop/product-basic/\").concat(product.slug)\n    }, __jsx(\"a\", null, __jsx(\"img\", {\n      src: generatePublicUrl(product.productPictures[0].img),\n      className: \"img-fluid\",\n      alt: \"\"\n    })))), __jsx(\"td\", {\n      className: \"product-name\"\n    }, __jsx(Link, {\n      href: \"/shop/product/[slug]?slug=\".concat(product.slug),\n      as: \"\".concat(process.env.PUBLIC_URL, \"/shop/product/\").concat(product.slug)\n    }, __jsx(\"a\", null, product.name)), product.selectedProductColor && product.selectedProductSize ? __jsx(\"div\", {\n      className: \"product-variation\"\n    }, __jsx(\"span\", null, \"Color: \", product.selectedProductColor), __jsx(\"span\", null, \"Size: \", product.selectedProductSize)) : \"\"), __jsx(\"td\", {\n      className: \"product-price\"\n    }, __jsx(\"span\", {\n      className: \"price\"\n    }, \"$\", discountedPrice)), __jsx(\"td\", {\n      className: \"product-quantity\"\n    }, __jsx(\"div\", {\n      className: \"cart-plus-minus\"\n    }, __jsx(\"button\", {\n      className: \"dec qtybutton\",\n      onClick: function onClick() {\n        return decreaseQuantity(product, addToast);\n      }\n    }, \"-\"), __jsx(\"input\", {\n      className: \"cart-plus-minus-box\",\n      type: \"text\",\n      value: product.quantity,\n      readOnly: true\n    }), __jsx(\"button\", {\n      className: \"inc qtybutton\",\n      onClick: function onClick() {\n        return addToCart(product, addToast, quantityCount);\n      },\n      disabled: product !== undefined && product.quantity && product.quantity >= cartItemStock(product, product.selectedProductColor, product.selectedProductSize)\n    }, \"+\"))), __jsx(\"td\", {\n      className: \"total-price\"\n    }, __jsx(\"span\", {\n      className: \"price\"\n    }, \"$\", (discountedPrice * product.quantity).toFixed(2))), __jsx(\"td\", {\n      className: \"product-remove\"\n    }, __jsx(\"button\", {\n      onClick: function onClick() {\n        return deleteFromCart(product, addToast);\n      }\n    }, __jsx(IoIosClose, null))));\n  })))), __jsx(Col, {\n    lg: 12,\n    className: \"space-mb--r100\"\n  }, __jsx(\"div\", {\n    className: \"cart-coupon-area space-pt--30 space-pb--30\"\n  }, __jsx(Row, {\n    className: \"align-items-center\"\n  }, __jsx(Col, {\n    lg: 7,\n    className: \"space-mb-mobile-only--30\"\n  }, __jsx(\"div\", {\n    className: \"lezada-form coupon-form\"\n  }, __jsx(\"form\", null, __jsx(Row, null, __jsx(Col, {\n    md: 7\n  }, __jsx(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your coupon code\"\n  })), __jsx(Col, {\n    md: 5\n  }, __jsx(\"button\", {\n    className: \"lezada-button lezada-button--medium\"\n  }, \"apply coupon\")))))), __jsx(Col, {\n    lg: 5,\n    className: \"text-left text-lg-right\"\n  }, __jsx(\"button\", {\n    className: \"lezada-button lezada-button--medium\",\n    onClick: function onClick() {\n      return deleteAllFromCart(addToast);\n    }\n  }, \"clear cart\"))))), __jsx(Col, {\n    lg: 5,\n    className: \"ml-auto\"\n  }, __jsx(\"div\", {\n    className: \"cart-calculation-area\"\n  }, __jsx(\"h2\", {\n    className: \"space-mb--40\"\n  }, \"Cart totals\"), __jsx(\"table\", {\n    className: \"cart-calculation-table space-mb--40\"\n  }, __jsx(\"tbody\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"SUBTOTAL\"), __jsx(\"td\", {\n    className: \"subtotal\"\n  }, \"$\", cartTotalPrice.toFixed(2))), __jsx(\"tr\", null, __jsx(\"th\", null, \"TOTAL\"), __jsx(\"td\", {\n    className: \"total\"\n  }, \"$\", cartTotalPrice.toFixed(2))))), __jsx(\"div\", {\n    className: \"cart-calculation-button text-center\"\n  }, __jsx(Link, {\n    href: \"/other/checkout\",\n    as: process.env.PUBLIC_URL + \"/other/checkout\"\n  }, __jsx(\"a\", {\n    className: \"lezada-button lezada-button--medium\"\n  }, \"proceed to checkout\")))))) : __jsx(Row, null, __jsx(Col, null, __jsx(\"div\", {\n    className: \"item-empty-area text-center\"\n  }, __jsx(\"div\", {\n    className: \"item-empty-area__icon space-mb--30\"\n  }, __jsx(IoMdCart, null)), __jsx(\"div\", {\n    className: \"item-empty-area__text\"\n  }, __jsx(\"p\", {\n    className: \"space-mb--30\"\n  }, \"No items found in cart\"), __jsx(Link, {\n    href: \"/shop/left-sidebar\",\n    as: process.env.PUBLIC_URL + \"/shop/left-sidebar\"\n  }, __jsx(\"a\", {\n    className: \"lezada-button lezada-button--medium\"\n  }, \"Shop Now\")))))))));\n};\n\n_s(Cart, \"AHSglENo6sqPHUG/mkqxQiPHcpM=\", false, function () {\n  return [useToasts];\n});\n\n_c = Cart;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    cartItems: state.cartData\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addToCart: function addToCart(item, addToast, quantityCount) {\n      dispatch(_addToCart(item, addToast, quantityCount));\n    },\n    decreaseQuantity: function decreaseQuantity(item, addToast) {\n      dispatch(_decreaseQuantity(item, addToast));\n    },\n    deleteFromCart: function deleteFromCart(item, addToast) {\n      dispatch(_deleteFromCart(item, addToast));\n    },\n    deleteAllFromCart: function deleteAllFromCart(addToast) {\n      dispatch(_deleteAllFromCart(addToast));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/besni/Desktop/hax-frontend/src/pages/other/cart.js"],"names":["useState","useEffect","Link","Container","Row","Col","connect","useToasts","addToCart","decreaseQuantity","deleteFromCart","deleteAllFromCart","cartItemStock","getDiscountPrice","LayoutTwo","BreadcrumbOne","IoIosClose","IoMdCart","generatePublicUrl","Cart","cartItems","quantityCount","addToast","cartTotalPrice","document","querySelector","classList","remove","process","env","PUBLIC_URL","length","map","product","i","discountedPrice","price","discount","toFixed","quantity","slug","productPictures","img","name","selectedProductColor","selectedProductSize","undefined","mapStateToProps","state","cartData","mapDispatchToProps","dispatch","item"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport {\r\n  addToCart,\r\n  decreaseQuantity,\r\n  deleteFromCart,\r\n  deleteAllFromCart,\r\n  cartItemStock\r\n} from \"../../redux/actions/cartActions\";\r\nimport { getDiscountPrice } from \"../../lib/product\";\r\nimport { LayoutTwo } from \"../../components/Layout\";\r\nimport { BreadcrumbOne } from \"../../components/Breadcrumb\";\r\nimport { IoIosClose, IoMdCart } from \"react-icons/io\";\r\nimport { generatePublicUrl } from \"../../urlConfig\";\r\n\r\nconst Cart = ({\r\n  cartItems,\r\n  decreaseQuantity,\r\n  addToCart,\r\n  deleteFromCart,\r\n  deleteAllFromCart\r\n}) => {\r\n  const [quantityCount] = useState(1);\r\n  const { addToast } = useToasts();\r\n  let cartTotalPrice = 0;\r\n\r\n  useEffect(() => {\r\n    document.querySelector(\"body\").classList.remove(\"overflow-hidden\");\r\n  });\r\n\r\n  return (\r\n    <LayoutTwo>\r\n      {/* breadcrumb */}\r\n      <BreadcrumbOne\r\n        pageTitle=\"Cart\"\r\n        backgroundImage=\"/assets/images/backgrounds/breadcrumb-bg-2.jpg\"\r\n      >\r\n        <ul className=\"breadcrumb__list\">\r\n          <li>\r\n            <Link href=\"/\" as={process.env.PUBLIC_URL + \"/\"}>\r\n              <a>Home</a>\r\n            </Link>\r\n          </li>\r\n\r\n          <li>Cart</li>\r\n        </ul>\r\n      </BreadcrumbOne>\r\n\r\n      {/* cart content */}\r\n      <div className=\"cart-content space-mt--r130 space-mb--r130\">\r\n        <Container>\r\n          {cartItems && cartItems.length >= 1 ? (\r\n            <Row>\r\n              <Col lg={12}>\r\n                {/* cart table */}\r\n                <table className=\"cart-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th className=\"product-name\" colSpan=\"2\">\r\n                        Product\r\n                      </th>\r\n                      <th className=\"product-price\">Price</th>\r\n                      <th className=\"product-quantity\">Quantity</th>\r\n                      <th className=\"product-subtotal\">Total</th>\r\n                      <th className=\"product-remove\">&nbsp;</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {cartItems.map((product, i) => {\r\n                      const discountedPrice = getDiscountPrice(\r\n                        product.price,\r\n                        product.discount\r\n                      ).toFixed(2);\r\n\r\n                      cartTotalPrice += discountedPrice * product.quantity;\r\n                      return (\r\n                        <tr key={i}>\r\n                          <td className=\"product-thumbnail\">\r\n                            <Link\r\n                              href={`/shop/product-basic/[slug]?slug=${product.slug}`}\r\n                              as={`${process.env.PUBLIC_URL}/shop/product-basic/${product.slug}`}\r\n                            >\r\n                              <a>\r\n                                <img\r\n                                  src={\r\n                                    generatePublicUrl(product.productPictures[0].img)\r\n                                  }\r\n                                  className=\"img-fluid\"\r\n                                  alt=\"\"\r\n                                />\r\n                              </a>\r\n                            </Link>\r\n                          </td>\r\n                          <td className=\"product-name\">\r\n                            <Link\r\n                              href={`/shop/product/[slug]?slug=${product.slug}`}\r\n                              as={`${process.env.PUBLIC_URL}/shop/product/${product.slug}`}\r\n                            >\r\n                              <a>{product.name}</a>\r\n                            </Link>\r\n                            {product.selectedProductColor &&\r\n                            product.selectedProductSize ? (\r\n                              <div className=\"product-variation\">\r\n                                <span>\r\n                                  Color: {product.selectedProductColor}\r\n                                </span>\r\n                                <span>Size: {product.selectedProductSize}</span>\r\n                              </div>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                          </td>\r\n\r\n                          <td className=\"product-price\">\r\n                            <span className=\"price\">${discountedPrice}</span>\r\n                          </td>\r\n\r\n                          <td className=\"product-quantity\">\r\n                            <div className=\"cart-plus-minus\">\r\n                              <button\r\n                                className=\"dec qtybutton\"\r\n                                onClick={() =>\r\n                                  decreaseQuantity(product, addToast)\r\n                                }\r\n                              >\r\n                                -\r\n                              </button>\r\n                              <input\r\n                                className=\"cart-plus-minus-box\"\r\n                                type=\"text\"\r\n                                value={product.quantity}\r\n                                readOnly\r\n                              />\r\n                              <button\r\n                                className=\"inc qtybutton\"\r\n                                onClick={() =>\r\n                                  addToCart(product, addToast, quantityCount)\r\n                                }\r\n                                disabled={\r\n                                  product !== undefined &&\r\n                                  product.quantity &&\r\n                                  product.quantity >=\r\n                                    cartItemStock(\r\n                                      product,\r\n                                      product.selectedProductColor,\r\n                                      product.selectedProductSize\r\n                                    )\r\n                                }\r\n                              >\r\n                                +\r\n                              </button>\r\n                            </div>\r\n                          </td>\r\n\r\n                          <td className=\"total-price\">\r\n                            <span className=\"price\">\r\n                              ${(discountedPrice * product.quantity).toFixed(2)}\r\n                            </span>\r\n                          </td>\r\n\r\n                          <td className=\"product-remove\">\r\n                            <button\r\n                              onClick={() => deleteFromCart(product, addToast)}\r\n                            >\r\n                              <IoIosClose />\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </Col>\r\n              <Col lg={12} className=\"space-mb--r100\">\r\n                <div className=\"cart-coupon-area space-pt--30 space-pb--30\">\r\n                  <Row className=\"align-items-center\">\r\n                    <Col lg={7} className=\"space-mb-mobile-only--30\">\r\n                      <div className=\"lezada-form coupon-form\">\r\n                        <form>\r\n                          <Row>\r\n                            <Col md={7}>\r\n                              <input\r\n                                type=\"text\"\r\n                                placeholder=\"Enter your coupon code\"\r\n                              />\r\n                            </Col>\r\n                            <Col md={5}>\r\n                              <button className=\"lezada-button lezada-button--medium\">\r\n                                apply coupon\r\n                              </button>\r\n                            </Col>\r\n                          </Row>\r\n                        </form>\r\n                      </div>\r\n                    </Col>\r\n                    <Col lg={5} className=\"text-left text-lg-right\">\r\n                      <button\r\n                        className=\"lezada-button lezada-button--medium\"\r\n                        onClick={() => deleteAllFromCart(addToast)}\r\n                      >\r\n                        clear cart\r\n                      </button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </Col>\r\n              <Col lg={5} className=\"ml-auto\">\r\n                <div className=\"cart-calculation-area\">\r\n                  <h2 className=\"space-mb--40\">Cart totals</h2>\r\n                  <table className=\"cart-calculation-table space-mb--40\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <th>SUBTOTAL</th>\r\n                        <td className=\"subtotal\">\r\n                          ${cartTotalPrice.toFixed(2)}\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>TOTAL</th>\r\n                        <td className=\"total\">${cartTotalPrice.toFixed(2)}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  <div className=\"cart-calculation-button text-center\">\r\n                    <Link\r\n                      href=\"/other/checkout\"\r\n                      as={process.env.PUBLIC_URL + \"/other/checkout\"}\r\n                    >\r\n                      <a className=\"lezada-button lezada-button--medium\">\r\n                        proceed to checkout\r\n                      </a>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          ) : (\r\n            <Row>\r\n              <Col>\r\n                <div className=\"item-empty-area text-center\">\r\n                  <div className=\"item-empty-area__icon space-mb--30\">\r\n                    <IoMdCart />\r\n                  </div>\r\n                  <div className=\"item-empty-area__text\">\r\n                    <p className=\"space-mb--30\">No items found in cart</p>\r\n                    <Link\r\n                      href=\"/shop/left-sidebar\"\r\n                      as={process.env.PUBLIC_URL + \"/shop/left-sidebar\"}\r\n                    >\r\n                      <a className=\"lezada-button lezada-button--medium\">\r\n                        Shop Now\r\n                      </a>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          )}\r\n        </Container>\r\n      </div>\r\n    </LayoutTwo>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartItems: state.cartData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addToCart: (item, addToast, quantityCount) => {\r\n      dispatch(addToCart(item, addToast, quantityCount));\r\n    },\r\n    decreaseQuantity: (item, addToast) => {\r\n      dispatch(decreaseQuantity(item, addToast));\r\n    },\r\n    deleteFromCart: (item, addToast) => {\r\n      dispatch(deleteFromCart(item, addToast));\r\n    },\r\n    deleteAllFromCart: (addToast) => {\r\n      dispatch(deleteAllFromCart(addToast));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"]},"metadata":{},"sourceType":"module"}