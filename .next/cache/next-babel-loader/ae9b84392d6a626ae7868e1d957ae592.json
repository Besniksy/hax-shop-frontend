{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\besni\\\\Desktop\\\\hax-frontend\\\\src\\\\pages\\\\other\\\\category.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Button, Col, Container, Form, Row } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { HeaderOne } from '../../components/Header';\nimport AdminLayout from '../../components/Layout/AdminLayout';\nimport { addCategory, getAllCategories } from '../../redux/actions/categoriesActions';\nimport { getInitialData } from '../../redux/actions/initialDataActions';\nimport Modal from '../../UI/modal';\n\nconst Category = () => {\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n  const {\n    0: categoryName,\n    1: setCategoryName\n  } = useState('');\n  const {\n    0: parentCategoryId,\n    1: setParentCategoryId\n  } = useState('');\n  const {\n    0: categoryImage,\n    1: setCategoryImage\n  } = useState('');\n  const category = useSelector(state => state.category);\n  const dispatch = useDispatch(); // useEffect(() => {\n  //     dispatch(getInitialData())\n  // }, [])\n\n  const handleSave = () => {\n    const form = new FormData();\n    form.append('name', categoryName);\n    form.append('parentId', parentCategoryId);\n    form.append('categoryImage', categoryImage);\n    dispatch(addCategory(form));\n    setCategoryName('');\n    setParentCategoryId(''); // const cat = {\n    //     categoryName,\n    //     categoryImage,\n    //     parentCategoryId\n    // }\n    // console.log(cat)\n\n    setShow(false);\n  };\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n\n  const renderCategories = categories => {\n    let myCategories = [];\n\n    for (let category of categories) {\n      myCategories.push(__jsx(\"li\", {\n        className: \"categoryList\",\n        key: category.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, __jsx(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, category.name), category.children.length > 0 ? __jsx(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 54\n        }\n      }, renderCategories(category.children), \" \") : null));\n    }\n\n    return myCategories;\n  };\n\n  const createCategoryList = (categories, options = []) => {\n    for (let category of categories) {\n      options.push({\n        value: category._id,\n        name: category.name\n      });\n\n      if (category.children.length > 0) {\n        createCategoryList(category.children, options);\n      }\n    }\n\n    return options;\n  };\n\n  const handleCategoryImage = e => {\n    setCategoryImage(e.target.files[0]);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, __jsx(HeaderOne, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), __jsx(AdminLayout, {\n    sidebar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, \"Category\"), __jsx(\"button\", {\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"Add\")))), __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, __jsx(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, renderCategories(category.categories))))), __jsx(Modal, {\n    show: show,\n    onHide: handleClose,\n    title: \"Add New Category\",\n    value: categoryName,\n    onChange: e => setCategoryName(e.target.value),\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, __jsx(\"select\", {\n    className: \"form-control\",\n    value: parentCategoryId,\n    onChange: e => setParentCategoryId(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, __jsx(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \"Select Category\"), createCategoryList(category.categories).map(option => __jsx(\"option\", {\n    key: option.value,\n    value: option.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, option.name, \" \"))), __jsx(\"input\", {\n    type: \"file\",\n    name: \"categoryImage\",\n    onChange: handleCategoryImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default Category;","map":{"version":3,"sources":["C:/Users/besni/Desktop/hax-frontend/src/pages/other/category.js"],"names":["React","useState","useEffect","Button","Col","Container","Form","Row","useDispatch","useSelector","HeaderOne","AdminLayout","addCategory","getAllCategories","getInitialData","Modal","Category","show","setShow","categoryName","setCategoryName","parentCategoryId","setParentCategoryId","categoryImage","setCategoryImage","category","state","dispatch","handleSave","form","FormData","append","handleShow","handleClose","renderCategories","categories","myCategories","push","name","children","length","createCategoryList","options","value","_id","handleCategoryImage","e","target","files","display","justifyContent","map","option"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,EAAiCC,IAAjC,EAAuCC,GAAvC,QAAkD,iBAAlD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,uCAA9C;AACA,SAASC,cAAT,QAA+B,wCAA/B;AACA,OAAOC,KAAP,MAAkB,gBAAlB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACnB,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBjB,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM;AAAA,OAACkB,YAAD;AAAA,OAAeC;AAAf,MAAkCnB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM;AAAA,OAACoB,gBAAD;AAAA,OAAmBC;AAAnB,MAA0CrB,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM;AAAA,OAACsB,aAAD;AAAA,OAAgBC;AAAhB,MAAoCvB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAMwB,QAAQ,GAAGhB,WAAW,CAACiB,KAAK,IAAIA,KAAK,CAACD,QAAhB,CAA5B;AACA,QAAME,QAAQ,GAAGnB,WAAW,EAA5B,CANmB,CAQnB;AACA;AACA;;AAEA,QAAMoB,UAAU,GAAG,MAAM;AAErB,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AAEAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBZ,YAApB;AACAU,IAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBV,gBAAxB;AACAQ,IAAAA,IAAI,CAACE,MAAL,CAAY,eAAZ,EAA6BR,aAA7B;AACAI,IAAAA,QAAQ,CAACf,WAAW,CAACiB,IAAD,CAAZ,CAAR;AACAT,IAAAA,eAAe,CAAC,EAAD,CAAf;AACAE,IAAAA,mBAAmB,CAAC,EAAD,CAAnB,CATqB,CAYrB;AACA;AACA;AACA;AACA;AAEA;;AAGAJ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAtBD;;AAwBA,QAAMc,UAAU,GAAG,MAAMd,OAAO,CAAC,IAAD,CAAhC;;AACA,QAAMe,WAAW,GAAG,MAAMf,OAAO,CAAC,KAAD,CAAjC;;AAEA,QAAMgB,gBAAgB,GAAIC,UAAD,IAAgB;AACrC,QAAIC,YAAY,GAAG,EAAnB;;AACA,SAAI,IAAIX,QAAR,IAAoBU,UAApB,EAA+B;AAC3BC,MAAAA,YAAY,CAACC,IAAb,CACI;AAAI,QAAA,SAAS,EAAC,cAAd;AAA8B,QAAA,GAAG,EAAEZ,QAAQ,CAACa,IAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMb,QAAQ,CAACa,IAAf,CAFJ,EAGKb,QAAQ,CAACc,QAAT,CAAkBC,MAAlB,GAA2B,CAA3B,GAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKN,gBAAgB,CAACT,QAAQ,CAACc,QAAV,CAArB,MAAhC,GAAmF,IAHxF,CADJ;AAOH;;AAED,WAAOH,YAAP;AAEH,GAdD;;AAgBA,QAAMK,kBAAkB,GAAG,CAACN,UAAD,EAAaO,OAAO,GAAG,EAAvB,KAA8B;AACrD,SAAI,IAAIjB,QAAR,IAAoBU,UAApB,EAA+B;AAC3BO,MAAAA,OAAO,CAACL,IAAR,CAAa;AAACM,QAAAA,KAAK,EAAElB,QAAQ,CAACmB,GAAjB;AAAsBN,QAAAA,IAAI,EAAEb,QAAQ,CAACa;AAArC,OAAb;;AACA,UAAGb,QAAQ,CAACc,QAAT,CAAkBC,MAAlB,GAA2B,CAA9B,EAAgC;AAC5BC,QAAAA,kBAAkB,CAAChB,QAAQ,CAACc,QAAV,EAAoBG,OAApB,CAAlB;AACH;AACJ;;AACD,WAAOA,OAAP;AACH,GARD;;AAUA,QAAMG,mBAAmB,GAAIC,CAAD,IAAO;AAC/BtB,IAAAA,gBAAgB,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAhB;AACH,GAFD;;AAKA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,WAAD;AAAa,IAAA,OAAO,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,cAAc,EAAE;AAAnC,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIE;AAAQ,IAAA,OAAO,EAAElB,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJF,CADF,CADF,CADF,EAWE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKE,gBAAgB,CAACT,QAAQ,CAACU,UAAV,CAArB,CADF,CADF,CAXF,CADF,EAkBE,MAAC,KAAD;AACE,IAAA,IAAI,EAAElB,IADR;AAEE,IAAA,MAAM,EAAEgB,WAFV;AAGE,IAAA,KAAK,EAAC,kBAHR;AAIE,IAAA,KAAK,EAAEd,YAJT;AAKE,IAAA,QAAQ,EAAG2B,CAAD,IAAO1B,eAAe,CAAC0B,CAAC,CAACC,MAAF,CAASJ,KAAV,CALlC;AAME,IAAA,OAAO,EAAEf,UANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,KAAK,EAAEP,gBAFT;AAGE,IAAA,QAAQ,EAAGyB,CAAD,IAAOxB,mBAAmB,CAACwB,CAAC,CAACC,MAAF,CAASJ,KAAV,CAHtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALF,EAMGF,kBAAkB,CAAChB,QAAQ,CAACU,UAAV,CAAlB,CAAwCgB,GAAxC,CAA6CC,MAAD,IAC3C;AAAQ,IAAA,GAAG,EAAEA,MAAM,CAACT,KAApB;AAA2B,IAAA,KAAK,EAAES,MAAM,CAACT,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGS,MAAM,CAACd,IADV,EACgB,GADhB,CADD,CANH,CARF,EAqBE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,eAFP;AAGE,IAAA,QAAQ,EAAEO,mBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,CAlBF,CAFF,CADF;AAmDH,CAzHD;;AA2HA,eAAe7B,QAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { Button, Col, Container, Form, Row } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { HeaderOne } from '../../components/Header';\r\nimport AdminLayout from '../../components/Layout/AdminLayout';\r\nimport { addCategory, getAllCategories } from '../../redux/actions/categoriesActions';\r\nimport { getInitialData } from '../../redux/actions/initialDataActions';\r\nimport Modal from '../../UI/modal'\r\n\r\nconst Category = () => {\r\n    const [show, setShow] = useState(false);\r\n    const [categoryName, setCategoryName] = useState('')\r\n    const [parentCategoryId, setParentCategoryId] = useState('')\r\n    const [categoryImage, setCategoryImage] = useState('')\r\n    const category = useSelector(state => state.category)\r\n    const dispatch = useDispatch()\r\n\r\n    // useEffect(() => {\r\n    //     dispatch(getInitialData())\r\n    // }, [])\r\n\r\n    const handleSave = () => {\r\n\r\n        const form = new FormData()\r\n\r\n        form.append('name', categoryName)\r\n        form.append('parentId', parentCategoryId)\r\n        form.append('categoryImage', categoryImage)\r\n        dispatch(addCategory(form))\r\n        setCategoryName('')\r\n        setParentCategoryId('')\r\n\r\n\r\n        // const cat = {\r\n        //     categoryName,\r\n        //     categoryImage,\r\n        //     parentCategoryId\r\n        // }\r\n\r\n        // console.log(cat)\r\n\r\n\r\n        setShow(false)\r\n    };\r\n\r\n    const handleShow = () => setShow(true);\r\n    const handleClose = () => setShow(false);\r\n\r\n    const renderCategories = (categories) => {\r\n        let myCategories = []\r\n        for(let category of categories){\r\n            myCategories.push(\r\n                <li className='categoryList'  key={category.name}>\r\n\r\n                    <ul >{category.name}</ul>\r\n                    {category.children.length > 0 ? (<ul>{renderCategories(category.children)} </ul>) : null}\r\n                </li>\r\n            )\r\n        }\r\n\r\n        return myCategories\r\n        \r\n    }\r\n\r\n    const createCategoryList = (categories, options = []) => {\r\n        for(let category of categories){\r\n            options.push({value: category._id, name: category.name })\r\n            if(category.children.length > 0){\r\n                createCategoryList(category.children, options)\r\n            }\r\n        }\r\n        return options\r\n    }\r\n\r\n    const handleCategoryImage = (e) => {\r\n        setCategoryImage(e.target.files[0])\r\n    }\r\n\r\n\r\n    return (\r\n      <div>\r\n        <HeaderOne />\r\n        <AdminLayout sidebar>\r\n          <Container>\r\n            <Row>\r\n              <Col md={12}>\r\n                <div\r\n                  style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n                >\r\n                  <h3>Category</h3>\r\n                  <button onClick={handleShow}>Add</button>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col md={12}>\r\n                <ul>{renderCategories(category.categories)}</ul>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n          <Modal\r\n            show={show}\r\n            onHide={handleClose}\r\n            title=\"Add New Category\"\r\n            value={categoryName}\r\n            onChange={(e) => setCategoryName(e.target.value)}\r\n            onClick={handleSave}\r\n          >\r\n            <select\r\n              className=\"form-control\"\r\n              value={parentCategoryId}\r\n              onChange={(e) => setParentCategoryId(e.target.value)}\r\n            >\r\n              <option>Select Category</option>\r\n              {createCategoryList(category.categories).map((option) => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.name}{\" \"}\r\n                </option>\r\n              ))}\r\n            </select>\r\n\r\n            <input\r\n              type=\"file\"\r\n              name=\"categoryImage\"\r\n              onChange={handleCategoryImage}\r\n            />\r\n          </Modal>\r\n        </AdminLayout>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Category;"]},"metadata":{},"sourceType":"module"}